/**
 * Leaflet.pattern, Provides tools to set the backgrounds of vector shapes in Leaflet to be patterns.
 * 
 * Local copy of the library since the CDN is causing MIME type issues
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.L={})}(this,function(t){"use strict";var e=window.L.Pattern=window.L.Pattern||{};function i(t,e){return new window.L.Pattern.StripePattern(t,e)}e.extend=window.L.extend;var n=e.SVG=window.L.SVG.extend({_updatePattern:function(t){var i=t._pattern;i&&(this._defs||(this._defs=window.L.SVG.create("defs"),this._container.appendChild(this._defs)),i._addShapes());var n=i.options.patternTransform,r=t._path.getAttribute("fill");if(null!=t.options.interactive&&(t._path.setAttribute("fill",this._createPattern(t,i)),t.options.fillOpacity&&this._updateStyle(t)),n&&n!==r){var o=r,a=t._path.style.fillOpacity;t._path.setAttribute("fill",n),t.options.fillOpacity&&(t._path.style.fillOpacity=0),window.L.DomUtil.addClass(t._path,"leaflet-interactive"),o&&i.options.patternUnits!==window.L.Pattern.PatternUnits.USER_SPACE_ON_USE&&(t._pattern2=i,t._path2=window.L.SVG.create("path")),t._pattern2&&(this._defs.appendChild(t._path2),t._path2.setAttribute("d",t._path.getAttribute("d")),t._path2.setAttribute("fill",this._createPattern(t,t._pattern2)),t.options.fillOpacity&&(t._path2.style.fillOpacity=a),window.L.DomUtil.addClass(t._path2,"leaflet-interactive"))}},_createPattern:function(t,e){return"url(#"+e._id+")"},_initDefs:function(){this._defs||(this._defs=window.L.SVG.create("defs"),this._container.appendChild(this._defs))},_addPattern:function(t){this._initDefs(),this._defs.appendChild(t._container);var e=t.options.patternUnits!==window.L.Pattern.PatternUnits.USER_SPACE_ON_USE,i=t.options.patternContentUnits===window.L.Pattern.PatternUnits.USER_SPACE_ON_USE;t._container.setAttribute("patternUnits",e?"objectBoundingBox":"userSpaceOnUse"),i&&t._container.setAttribute("patternContentUnits","userSpaceOnUse"),t._container.setAttribute("id",t._id),t._container.setAttribute("x",t.options.x),t._container.setAttribute("y",t.options.y),t._container.setAttribute("width",t.options.width),t._container.setAttribute("height",t.options.height),t.options.patternTransform&&t._container.setAttribute("patternTransform",t.options.patternTransform)}}),r=function(t){return document.createElementNS(window.L.Path.SVG_NS,t)},o=window.L.extend({},window.L.CircleMarker.prototype);o._resetBounds=function(){var t=this._radius,e=this._radiusY||t,i=this._clickTolerance(),n=[t+i,e+i];this._pxBounds=new window.L.Bounds(this._point.subtract(n),this._point.add(n))},o._updatePath=function(){this._renderer._updateCircleMarker(this)};var a=e.PatternCircle=window.L.Circle.extend({options:{fill:!0},_updatePath:function(){var t=this._point,e=this._radius,i=this._radiusY||e;this._isEmpty()||(this._renderer._ctx.beginPath(),this._renderer._ctx.arc(t.x,t.y,e,0,2*Math.PI,!1))},_empty:function(){return this._radius?0:1}}),s=e.PatternMarker=window.L.CircleMarker.extend({_updatePath:o._updatePath});e.PatternShape=window.L.Path.extend({options:{fill:!0,radius:10,weight:0},initialize:function(t){window.L.setOptions(this,t);var e=window.L.point(t.x||0,t.y||0);this._point=e,this._radius=t.radius,this._radiusY=t.radiusY},getLatLng:function(){return this._latlng},setLatLng:function(t){return this.setLatLngs(t)},getLatLngs:function(){return this._latlngs},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng)},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,i=this._clickTolerance(),n=[t+i,e+i];this._pxBounds=new window.L.Bounds(this._point.subtract(n),this._point.add(n))},_update:function(){this._renderer&&this._renderer._updateShape(this)},_updatePath:function(){},_empty:function(){return this._radius?0:1}}),r=e.PatternPath=window.L.Path.extend({options:{fill:!0,weight:0},initialize:function(t){window.L.setOptions(this,t);this._shape=t.d,this._ring=!1},_project:function(){},_updateBounds:function(){},_update:function(){this._renderer&&this._renderer._updateShape(this)},_updatePath:function(){},_empty:function(){return!(this._shape&&this._shape.length>0)}}),h=window.L.SVG.extend({_updateShape:function(t){},_updateCircleMarker:function(t){if(t._empty())return"";var e=t._point,i=Math.max(Math.round(t._radius),1),n=Math.max(Math.round(t._radiusY||i),1),r="a"+i+","+n+" 0 1,0 ";return"M"+e.x+","+(e.y-n)+" "+r+2*i+",0 "+r+2*-i+",0 "}});window.L.Canvas&&(window.L.Canvas.prototype._updateCircle=function(t){if(!this._drawing||!t._updatePath||t._empty())return!1;var e=t._point,i=Math.max(Math.round(t._radius),1),n=Math.max(Math.round(t._radiusY||i),1);"undefined"==typeof t._empty&&(t._empty=function(){return!this._radius});var r="a"+i+","+n+" 0 1,0 ";this._drawnLayers[t._leaflet_id]=t,this._ctx.beginPath(),this._ctx.moveTo(e.x,e.y-n),this._ctx.bezierCurveTo(e.x+i,e.y-n,e.x+i,e.y+n,e.x,e.y+n),this._ctx.bezierCurveTo(e.x-i,e.y+n,e.x-i,e.y-n,e.x,e.y-n),this._fillStroke(this._ctx,t)}),e.PatternUnits={USER_SPACE_ON_USE:"userSpaceOnUse",OBJECT_BOUNDING_BOX:"objectBoundingBox"},e.PatternGradient=window.L.Class.extend({options:{x:0,y:0,width:8,height:8,patternUnits:e.PatternUnits.OBJECT_BOUNDING_BOX,patternContentUnits:e.PatternUnits.OBJECT_BOUNDING_BOX},_addShapes:function(){},initialize:function(t){this.options=window.L.extend({},t),this.options.color=this.options.color||(this.options.fill?this.options.fillColor||this.options.color:"black"),window.L.Util.stamp(this),this._shapes={}},onAdd:function(t){return this._map=t.target?t.target:t,this._renderer=this._map.getRenderer(this),this._initDOMElement(),this._addShapes()},addTo:function(t){return t.addPattern(this),this},redraw:function(){if(this._map){this._update();for(var t in this._shapes)this._shapes.hasOwnProperty(t)&&this._shapes[t].redraw()}return this},setStyle:function(t){return window.L.setOptions(this,t),this._map&&(this._updateStyle(),this._requestUpdate()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._container},_initDOMElement:function(){this._container||(this._container=window.L.SVG.create("pattern"),this.getPane().appendChild(this._container))},_addShape:function(t,e){this._shapes[t]=e,e.addTo(this._map)},_updateShape:function(t){var e=t||Object.keys(this._shapes);if(window.L.Util.isArray(e))for(var i=0;i<e.length;i++)this._shapes[e[i]]._update();else this._shapes[e]._update()},getEvents:function(){var t={viewreset:this._update,moveend:this._update};return t},_update:function(){if(!this._map._animatingZoom||!this._bounds){this._updateTransform(this._map.getCenter(),this._map.getZoom());var t=this._bounds,e=this._container;this._shapes&&this._updateShape();var i=t.getSize();e.setAttribute("x",t.min.x),e.setAttribute("y",t.min.y),e.setAttribute("width",i.x),e.setAttribute("height",i.y)}return this},_updateTransform:function(t,e){var i=this._map.getZoomScale(e,this._zoom),n=window.L.Layer?window.L.Layer.prototype._setPos:window.L.DomUtil.setPosition,r=this._bounds.min,o=this._map.getPixelOrigin().multiplyBy(-i).subtract(this._map._getMapPanePos()).add(r);window.L.Browser.any3d?n(this._container,o,i):n(this._container,o)},_requestUpdate:function(){this._map&&!this._map._renderer._updateRequest&&(this._map._renderer._updateRequest=window.L.Util.requestAnimFrame(this._map._renderer._update,this._map._renderer,!1,this._map))}}),e.Pattern=e.PatternGradient.extend({options:{patternUnits:e.PatternUnits.OBJECT_BOUNDING_BOX,patternContentUnits:e.PatternUnits.USER_SPACE_ON_USE},_initDOMElement:function(){this._container||(this._container=r("pattern"),this.options.className&&window.L.DomUtil.addClass(this._container,this.options.className),this._id="leaflet_pattern_"+window.L.Util.stamp(this),this._container.setAttribute("id",this._id))},_addShapes:function(){},_update:function(){}}),e.StripePattern=e.Pattern.extend({options:{weight:4,spaceWeight:4,color:"black",spaceColor:null,opacity:1,spaceOpacity:0},_addShapes:function(){this._shape=new e.PatternPath({d:"M0 0 H 10",stroke:!0,weight:this.options.weight,color:this.options.color,opacity:this.options.opacity,lineCap:"square",fill:!1}),this._addShape("shape",this._shape),this.options.spaceColor&&(this._space=new e.PatternPath({d:"M0 "+(this.options.weight+Math.floor(this.options.spaceWeight/2))+" H 10",stroke:!0,weight:this.options.spaceWeight,color:this.options.spaceColor,opacity:this.options.spaceOpacity,lineCap:"square",fill:!1}),this._addShape("space",this._space))},setStyle:function(t){var i=t.weight||this.options.weight;this.options.weight=i,this.options.color=t.color||this.options.color;var n=Math.floor(t.spaceWeight||this.options.spaceWeight);return this.options.spaceWeight=n,this.options.spaceColor=t.spaceColor||this.options.spaceColor,this._shape&&this._shape.setStyle({stroke:!0,weight:i,color:this.options.color,opacity:this.options.opacity,lineCap:"square",fill:!1}),this._space&&this._space.setStyle({stroke:!0,weight:n,color:this.options.spaceColor,opacity:this.options.spaceOpacity,lineCap:"square",fill:!1}),this._space&&(this._space.options.d="M0 "+(this.options.weight+Math.floor(this.options.spaceWeight/2))+" H 10",this._updateShape("space")),this.redraw(),this}}),t.pattern=i}); 